<!doctype html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GPS (GPX / TCX / KML / CSV / XLSX) — AnyConvert+</title>
<link rel="stylesheet" href="site.css">
</head><body>
<header><div class="title"><div class="logo">⚡</div><h1>GPS — GPX / TCX / KML / CSV / XLSX</h1></div>
<nav class="tabs">
  <a class="tab active" href="gps.html">GPS</a>
  <a class="tab" href="index.html">Home</a>
</nav></header>

<main><section class="panel"><div class="grid">

  <div class="card">
    <h3>Load GPS Data</h3>
    <input type="file" id="gps-file" accept=".gpx,.tcx,.kml,.csv,.xlsx,application/xml,text/xml,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>
    <textarea id="gps-text" placeholder="Or paste GPX/TCX/KML XML, or CSV with headers like: lat,lon[,ele,time]"></textarea>
    <div class="row" style="margin-top:8px">
      <button id="gps-parse">Parse</button>
      <button class="secondary" id="gps-clear">Clear</button>
      <button class="secondary" id="gps-sample">Download CSV template</button>
    </div>
    <div class="small muted">Tip: For XLSX, the first sheet will be used. You can remap columns below.</div>
    <div class="log" id="gps-log"></div>
  </div>

  <div class="card">
    <h3>Field Mapping (CSV / XLSX)</h3>
    <div class="row">
      <label>Latitude <select id="map-lat"></select></label>
      <label>Longitude <select id="map-lon"></select></label>
      <label>Elevation <select id="map-ele"></select></label>
      <label>Time <select id="map-time"></select></label>
      <label>Time format
        <select id="map-timefmt">
          <option value="auto" selected>Auto (ISO or Excel)</option>
          <option value="unix">Unix seconds</option>
          <option value="unixms">Unix ms</option>
          <option value="excel">Excel serial</option>
          <option value="iso">ISO 8601</option>
        </select>
      </label>
    </div>
    <div class="small muted">We auto-detect common headers: lat/latitude, lon/lng/longitude, ele/elevation/altitude, time/timestamp/date.</div>
  </div>

  
  <div class="card" id="map-card">
    <h3>Map Preview</h3>
    <div class="row" style="margin-bottom:8px">
      <label>Base map
        <select id="map-style">
          <option value="osm" selected>OpenStreetMap</option>
          <option value="sat">Satellite (Esri)</option>
          <option value="toner">Toner Lite (Stamen)</option>
        </select>
      </label>
      <button id="map-fit">Fit to Track</button>
      <span class="small muted">Pan/zoom with mouse or touch. Markers show start/end.</span>
    </div>
    <div id="map" style="height:420px;border:1px solid var(--line);border-radius:12px"></div>
  </div>

  <div class="card">
    <h3>Preview & Export</h3>
    <div class="row" style="margin-bottom:8px">
      <label>Export as
        <select id="gps-export">
          <option value="gpx">GPX</option>
          <option value="tcx">TCX</option>
          <option value="kml">KML</option>
          <option value="csv">CSV</option>
          <option value="xlsx">XLSX</option>
        </select>
      </label>
      <input type="text" id="gps-title" placeholder="Name / Title (optional)"/>
      <button id="gps-download">Download</button>
    </div>
    <div class="preview hidden" id="gps-preview"></div>
  </div>


  <div class="card" id="stats-card">
    <h3>Stats & Splits</h3>
    <div class="row" style="margin-bottom:8px">
      <label>Units
        <select id="unit-dist">
          <option value="km" selected>km</option>
          <option value="mi">mi</option>
        </select>
      </label>
      <label>Split every
        <input type="number" id="split-every" value="1" min="0.1" step="0.1" style="width:80px">
      </label>
      <label>
        <select id="split-unit">
          <option value="km" selected>km</option>
          <option value="mi">mi</option>
        </select>
      </label>
      <button id="recompute-splits">Recompute</button>
    </div>
    <div class="grid-2">
      <div>
        <h4 class="small muted">Summary</h4>
        <div id="gps-stats" class="small"></div>
      </div>
      <div>
        <h4 class="small muted">Hover Readout</h4>
        <div id="hover-info" class="small muted">Move mouse over the map or route…</div>
      </div>
    </div>
    <h4 style="margin-top:12px">Splits</h4>
    <div class="preview" id="gps-splits" style="max-height:260px"></div>
  </div>

</div></section></main>

<footer>© <span id="year"></span> AnyConvert+</footer>
<script src="js/utils.js"></script>
<script src="js/boot.js"></script>
<script src="js/gps.js"></script>
</body></html>